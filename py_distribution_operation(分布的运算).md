# 分布的运算

## 偏度(skewness)
    度量分布不对称程度的统计量一，偏度
    在经验分布中，25，75 百分等级可以用于检查分布是否对称，其差可表示分布的分散情况
    给定序列 x1， 样本偏度的定义:
        g1 = (m3/m2) ** (3/2)
    其中:
        m2 = 1/n ∑(i) (xi - 𝝁) ** 2   # 均方离差(方差)
        m3 = 1/n ∑(i) (xi - 𝝁) ** 3   # 立方离差
    负的偏度表示分布向左偏(skews left), 分布函数左边会比右边延伸更长
    右的偏度表示分布向右偏(skews right), 分布函数右边会延伸更长
    
    样本中的异常值会对偏度产生非常大的影响
    
    分布不对称程度的统计量二，比较均值和中位数的大小
        如果分布向左偏，均值小于中位数，反之亦然，如果均值大于中位数，分布向右偏
        
    鲁棒估计, 对异常值不敏感
        （Pearson's median skewness coefficient) 皮尔逊中值偏度系数基于以上 均值和中位数的对比
        𝝁 为均值， 𝝁_1/2 为中位数
        g_p = 3(𝝁 - 𝝁_1/2) / 𝛔
        
   
## 基尼系数(Gini coefficient)
    衡量收入不平衡性的指标
    
## 随机变量(random variable)
    代表产生随机数的过程，一般用大写字母 如 X 表示
    当看到一个随机变量时，可以把它看成从某个分布函数抽出来的值
    累计分布函数形式化定义
        随机变量X的累计分布函数在某个特定的值 x 上的函数值 被定义为随机变量 X 小于等于 x 的概率
        CDF_x (x) = P(X <= x)
    
       
## 概率密度函数(probability density function)
    累计分布函数(CDF)的 导数 称为概率密度函数 PDF,其值不表示概率，
        表示的是 一种 概率密度，它衡量的是x轴上每个单位的概率
    累计分布函数表示的是 值与百分等级 的映射，
        CDF(x) 表示 样本中小于等于 x 所占比例
        
    指数分布的概率密度函数为:
        PDF_expo(x) = 𝝀* e **(-𝝀x)
    
    正态分布的概率密度函数为:
        PDF_normal(x) = (1/(𝛔√2𝝅)) * exp[-1/2 * ((x - 𝝁)/𝛔) ** 2] 
    
    分布函数的 均值可以看作分布的质心，方差看作是 转动惯量
    为了得到随机变量 落到某个分布概率， 我们可以计算密度函数在这段区间上的积分。
    设随机变量 X 的概率密度函数为 PDF_x, 那么 X 落在区间 [-0.5, 0.5]的概率为
        P(-0.5 <= X <= 0.5) = ∫(-05. 0.5)PDF_x(x) dx
    
    因为累计分布函数是 概率密度函数 的积分，上式也可也写成
        P9-0.5<= x <0.5) = CDF_x(0.5) - CDF_x(-0.5)
      
    计算X在某个区间的概率，可以用 累计分布函数 的解析表达式来计算
    如果无法得到累计分布函数的"解析表达式"，可以用"数值积分"的方法来计算 X 在某个区间的概率。
    
    # 例子
        人类平均高度，男性 178cm 方差59.4cm, 女性163cm，方差52.8cm，某公司要求男员工平均身高 178～185cm，全国有多少人满足这个条件？

## 卷积(convolution)
    推导公式:
        有累计分布函数CDF_x 和 CDF_y
        Z = X+Y, Z 服从什么分布？
        1, P(Z<=z|X=x) = P(Y<=z-x)
            在给定X=x的条件下，X+Y小于z的概率，要使 X+Y小于z，就要求Y必须小于z-x
        2, 计算Y < z-x 的概率， Y的累计分布函数
           P(Y <= z-x) = CDF_y(z-x)
        3, 上述推导过程 X 为固定值，如果X 有一个取值范围，那么
           P(Z<=z) = ∫(∞, -∞)P(Z <=z|X=x)PDF_x(x)dx
           给定 X=x的条件下，随机变量Z 小于等于z的概率乘以 X=x的概率
        4，1，2带入 3
            P(Z<=z) = ∫(∞, -∞) CDF_y(z-x)PDF_x(x)dx   # 等式左边就是CDF的定义 P(Z<=z) = CDF_z(z)
        5，我们可以通过对CDF_z 求导 得到 PDF_z，有以下积分公式
            PDF_z(z) =  ∫(∞, -∞)PDF_y(z-x)PDF_x(x)dx
            
            以上等式表示 概率密度函数PDF_x 和PDF_y 的卷积(convolution) ,卷积运算一般用运算符 ❊ 表示
            PDF_z = PDF_y ❊ PDF_x
            
        ** 两个随机变量的和的分布，等于 两个概率密度的卷积
        设随机变量 X 和Y 服从参数为 𝝀 的指数分布，则随机变量Z=X+Y 的概率密度为:
            PDF_z(z) =  ∫(∞, -∞)PDF_x(x)PDF_y(z-x)dx =  ∫(∞, -∞)𝝀e**(-𝝀x)e**(𝝀(z-x))
        
        因为X 和 Y服从指数分布，取负数概率为0，所以我们可以对上述积分公式的下限调整:
            PDF_z(z) = ∫(z, 0)𝝀e**(-𝝀x)𝝀e**(-𝝀(z-x))fx
            PDF_z(z) = 𝝀**2e**(-𝝀z)∫(z, 0)dx = z𝝀**2e**(-𝝀z)
            即：
            PDF_z(z) = z𝝀**2e**(-𝝀z)
            这是参数为k 和 𝝀 的爱尔朗 分布的概率密度函数，k=2，所以两个有相同参数指数分布的卷积是一个爱尔朗分布。
    * 正态分布 对卷积运算是封闭的，参看笔记 连续分布 正态分布一节。
        一个随机变量X 服从 𝝁 和 𝝈 的正态分布，我们可以简记为:
            X ~ 𝜨(𝝁, 𝝈 )
        另有一个 随机变量X的线性变换 表达式: X' = aX + b
        这里a 和 b为实数，X' 和 X 属于同一分布族时，我们说该分布族对线性变换是 封闭的(closed)
        比如 正态分布 X ~ 𝜨(𝝁, 𝝈**2),
        那么  X' ~ N(a𝝁+b, 𝝈a**2 )


## 中心极限定理
    如果将一些服从正态分布的数据加起来，得到的和也服从正态分布
    如果将一些不服从正态分布的数据加起来，得到的结果一般情况下不会服从前面讲过的 连续分布
    如果将大量服从某种分布的值加起来，所得的和会 收敛到正态分布
    
    假设随机变量 X 的均值和标准差 𝝁 和 𝝈，那么n个随机变量 X的和渐进地服从 N(n𝝁, n𝝈**2)
    上述描述 称为 中心极限定理(Central Limit Theorem)， 统计分析中非常重要的工具，有以下先决条件:
        1, 用于求和的数据必须满足独立性
        2, 数据必须服从同一个分布
        3, 产生这些数据分布的均值和方差必须有限(所以帕累托分布(pareto distributing)不满足此条件)
        4, 收敛速度取决于原来分布的偏度。 如果数据服从指数分布，那么数据的和很快会收敛，但是如果服从对数正态分布，那么收敛速度就没那么快来
        
    